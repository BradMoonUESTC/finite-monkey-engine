# ===============================================
# Finite Monkey Engine 环境配置文件
# Environment Configuration for Finite Monkey Engine
# ===============================================

# 数据库连接URL，使用PostgreSQL数据库
# Database connection URL using PostgreSQL
DATABASE_URL=postgresql://postgres:1234@127.0.0.1:5432/postgres

# ===============================================
# AI模型配置 / AI Model Configuration
# ===============================================

# OpenAI API基础URL
# OpenAI API base URL
OPENAI_API_BASE="api.openai-proxy.org" 

# OpenAI API密钥
# OpenAI API key
OPENAI_API_KEY="sk-xxxxx"


# ===============================================
# 扫描模式配置 / Scan Mode Configuration
# ===============================================

# 扫描模式设置
# Scan mode setting
# / PURE_SCAN(纯扫描) 
# / COMMON_PROJECT_FINE_GRAINED(通用项目CHECKLIST逐个提问)（成本提升10倍）
# Available options: PURE_SCAN / COMMON_PROJECT_FINE_GRAINED
SCAN_MODE=COMMON_PROJECT_FINE_GRAINED

SCAN_MODE_AVA=False

# 是否启用复杂度过滤功能（基于圈复杂度和认知复杂度过滤简单函数）
# Whether to enable complexity filtering (filter simple functions based on cyclomatic and cognitive complexity)
# true: 启用过滤，跳过简单函数和短函数（节省扫描时间）
# false: 禁用过滤，扫描所有函数
ENABLE_COMPLEXITY_FILTER=true

# ===============================================
# 性能调优配置 / Performance Tuning Configuration
# ===============================================

# 扫描阶段的最大线程数
# Maximum number of threads for scanning phase
MAX_THREADS_OF_SCAN=10

# 确认阶段的最大线程数
# Maximum number of threads for confirmation phase
MAX_THREADS_OF_CONFIRMATION=50

# 业务流程重复数量（触发幻觉的数量，数字越大幻觉越多，输出越多，时间越长）
# Business flow repeat count (number of hallucinations triggered, higher number means more hallucinations, more output, longer time)
BUSINESS_FLOW_COUNT=4

# ===============================================
# 高级功能配置 / Advanced Feature Configuration
# ===============================================


# 忽略的文件夹（逗号分隔）
# Folders to ignore (comma-separated)
IGNORE_FOLDERS=node_modules,build,dist,test,tests,.git

# ===============================================
# 检查清单配置 / Checklist Configuration
# ===============================================

# 检查清单文件路径
# Path to checklist file
CHECKLIST_PATH=src/knowledges/checklist.xlsx

# 检查清单工作表名称
# Checklist worksheet name
CHECKLIST_SHEET=Sheet1

# ===============================================
# Reasoning配置 / Reasoning Configuration
# ===============================================

# 是否在推理阶段启用同组总结
# Whether to enable group summary in reasoning phase
# True: 将同组已完成任务的结果总结放入prompt中
# False: 每一轮都是新的提问，不使用历史总结
SUMMARY_IN_REASONING=True 